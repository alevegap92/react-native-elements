{"version":3,"sources":["../../src/helpers/normalizeText.js"],"names":["React","require","PixelRatio","Dimensions","pixelRatio","get","deviceHeight","height","deviceWidth","width","normalize","size","module","exports"],"mappings":";;;;;;;;;;;AAWA,GAAMA,OAAQC,QAAQ,cAAR,CAAd,C;AACQC,U,CAA2BF,K,CAA3BE,U,CAAYC,U,CAAeH,K,CAAfG,U;;AAEpB,GAAMC,YAAaF,WAAWG,GAAX,EAAnB;AACA,GAAMC,cAAeH,WAAWE,GAAX,CAAe,QAAf,EAAyBE,MAA9C;AACA,GAAMC,aAAcL,WAAWE,GAAX,CAAe,QAAf,EAAyBI,KAA7C;;;;;;;;;;;AAWA,GAAMC,WAAY,QAAZA,UAAY,MAAQ;AACxB,GAAIN,YAAc,CAAd,EAAmBA,WAAa,CAApC,CAAuC;;AAErC,GAAII,YAAc,GAAlB,CAAuB;AACrB,MAAOG,MAAO,IAAd;AACD;;AAED,GAAIL,aAAe,GAAnB,CAAwB;AACtB,MAAOK,KAAP;;AAED,CAHD,IAGO,IAAIL,cAAgB,GAAhB,EAAuBA,cAAgB,GAA3C,CAAgD;AACrD,MAAOK,MAAO,IAAd;AACD;;AAED,MAAOA,MAAO,IAAd;AACD,CAdD,IAcO,IAAIP,YAAc,CAAd,EAAmBA,WAAa,GAApC,CAAyC;;;AAG9C,GAAII,aAAe,GAAnB,CAAwB;AACtB,MAAOG,KAAP;AACD;;AAED,GAAIL,aAAe,GAAnB,CAAwB;AACtB,MAAOK,MAAO,IAAd;;;AAGD;AACD,GAAIL,cAAgB,GAAhB,EAAuBA,cAAgB,GAA3C,CAAgD;AAC9C,MAAOK,MAAO,GAAd;AACD;;;AAGD,MAAOA,MAAO,IAAd;AACD,CAlBM,IAkBA,IAAIP,YAAc,GAAlB,CAAuB;;;AAG5B,GAAII,aAAe,GAAnB,CAAwB;AACtB,MAAOG,KAAP;;AAED;AACD,GAAIL,aAAe,GAAnB,CAAwB;AACtB,MAAOK,MAAO,GAAd;;;AAGD;AACD,GAAIL,cAAgB,GAAhB,EAAuBA,cAAgB,GAA3C,CAAgD;AAC9C,MAAOK,MAAO,IAAd;AACD;;AAED,MAAOA,MAAO,GAAd;AACD,CAjBM;;AAmBL,MAAOA,KAAP;AACH,CArDD;;AAuDAC,OAAOC,OAAP,CAAiBH,SAAjB","file":"normalizeText.js","sourcesContent":["//\r\n// Method to normalize size of fonts across devices\r\n//\r\n// Some code taken from https://jsfiddle.net/97ty7yjk/ &\r\n// https://stackoverflow.com/questions/34837342/font-size-on-iphone-6s-plus\r\n//\r\n// author: @xiaoneng\r\n// date: 14/10/2016\r\n// version: 03\r\n//\r\n\r\nconst React = require('react-native'); // eslint-disable-line no-undef\r\nconst { PixelRatio, Dimensions } = React;\r\n\r\nconst pixelRatio = PixelRatio.get();\r\nconst deviceHeight = Dimensions.get('window').height;\r\nconst deviceWidth = Dimensions.get('window').width;\r\n\r\n// -- Testing Only --\r\n// const fontScale = PixelRatio.getFontScale();\r\n// const layoutSize = PixelRatio.getPixelSizeForLayoutSize(14);\r\n// console.log('normalizeText getPR ->', pixelRatio);\r\n// console.log('normalizeText getFS ->', fontScale);\r\n// console.log('normalizeText getDH ->', deviceHeight);\r\n// console.log('normalizeText getDW ->', deviceWidth);\r\n// console.log('normalizeText getPSFLS ->', layoutSize);\r\n\r\nconst normalize = size => {\r\n  if (pixelRatio >= 2 && pixelRatio < 3) {\r\n    // iphone 5s and older Androids\r\n    if (deviceWidth < 360) {\r\n      return size * 0.95;\r\n    }\r\n    // iphone 5\r\n    if (deviceHeight < 667) {\r\n      return size;\r\n      // iphone 6-6s\r\n    } else if (deviceHeight >= 667 && deviceHeight <= 735) {\r\n      return size * 1.15;\r\n    }\r\n    // older phablets\r\n    return size * 1.25;\r\n  } else if (pixelRatio >= 3 && pixelRatio < 3.5) {\r\n    // catch Android font scaling on small machines\r\n    // where pixel ratio / font scale ratio => 3:3\r\n    if (deviceWidth <= 360) {\r\n      return size;\r\n    }\r\n    // Catch other weird android width sizings\r\n    if (deviceHeight < 667) {\r\n      return size * 1.15;\r\n      // catch in-between size Androids and scale font up\r\n      // a tad but not too much\r\n    }\r\n    if (deviceHeight >= 667 && deviceHeight <= 735) {\r\n      return size * 1.2;\r\n    }\r\n    // catch larger devices\r\n    // ie iphone 6s plus / 7 plus / mi note 等等\r\n    return size * 1.27;\r\n  } else if (pixelRatio >= 3.5) {\r\n    // catch Android font scaling on small machines\r\n    // where pixel ratio / font scale ratio => 3:3\r\n    if (deviceWidth <= 360) {\r\n      return size;\r\n      // Catch other smaller android height sizings\r\n    }\r\n    if (deviceHeight < 667) {\r\n      return size * 1.2;\r\n      // catch in-between size Androids and scale font up\r\n      // a tad but not too much\r\n    }\r\n    if (deviceHeight >= 667 && deviceHeight <= 735) {\r\n      return size * 1.25;\r\n    }\r\n    // catch larger phablet devices\r\n    return size * 1.4;\r\n  } else\r\n    // if older device ie pixelRatio !== 2 || 3 || 3.5\r\n    return size;\r\n};\r\n\r\nmodule.exports = normalize; // eslint-disable-line no-undef\r\n"]}