{"version":3,"sources":["../../src/searchbar/SearchBar-default.js"],"names":["Search","getRef","input","refs","props","textInputRef","getRefHandler","focus","blur","clear","onChangeText","onClearText","containerStyle","inputStyle","icon","noIcon","lightTheme","round","showLoading","loadingProps","clearIcon","containerRef","underlineColorAndroid","attributes","loadingStyle","style","otherLoadingProps","Icon","type","styles","container","containerLight","inputLight","paddingLeft","borderRadius","OS","paddingRight","searchIcon","name","color","grey3","clearText","bind","loadingIcon","right","propTypes","object","bool","oneOfType","string","func","defaultProps","placeholderTextColor","create","borderTopWidth","borderBottomWidth","borderBottomColor","borderTopColor","backgroundColor","grey0","grey5","position","top","select","android","web","margin","overflow","searchBg","fontSize","height","ios","borderWidth","grey4","left"],"mappings":"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","file":"SearchBar-default.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  ActivityIndicator,\r\n  View,\r\n  StyleSheet,\r\n  TextInput,\r\n  Platform,\r\n  Text as NativeText,\r\n} from 'react-native';\r\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons';\r\nimport colors from '../config/colors';\r\nimport normalize from '../helpers/normalizeText';\r\nimport ViewPropTypes from '../config/ViewPropTypes';\r\nimport getIconType from '../helpers/getIconType';\r\n\r\nclass Search extends Component {\r\n  getRef = () => {\r\n    return this.input || this.refs[this.props.textInputRef];\r\n  };\r\n\r\n  getRefHandler = () => {\r\n    if (this.props.textInputRef) {\r\n      if (typeof this.props.textInputRef === 'function') {\r\n        return input => {\r\n          this.input = input;\r\n          this.props.textInputRef(input);\r\n        };\r\n      } else {\r\n        return this.props.textInputRef;\r\n      }\r\n    } else {\r\n      return input => (this.input = input);\r\n    }\r\n  };\r\n\r\n  focus() {\r\n    this.getRef() && this.getRef().focus();\r\n  }\r\n\r\n  blur() {\r\n    this.getRef() && this.getRef().blur();\r\n  }\r\n\r\n  clearText() {\r\n    this.getRef() && this.getRef().clear();\r\n    this.props.onChangeText && this.props.onChangeText('');\r\n    this.props.onClearText && this.props.onClearText();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      containerStyle,\r\n      inputStyle,\r\n      icon,\r\n      noIcon,\r\n      lightTheme,\r\n      round,\r\n      showLoading,\r\n      loadingProps,\r\n      clearIcon,\r\n      containerRef,\r\n      underlineColorAndroid,\r\n      onClearText,\r\n      ...attributes\r\n    } = this.props;\r\n\r\n    const { style: loadingStyle, ...otherLoadingProps } = loadingProps;\r\n\r\n    let Icon = MaterialIcons;\r\n    if (icon.type) {\r\n      Icon = getIconType(icon.type);\r\n    }\r\n\r\n    return (\r\n      <View\r\n        ref={containerRef}\r\n        style={[\r\n          styles.container,\r\n          lightTheme && styles.containerLight,\r\n          containerStyle && containerStyle,\r\n        ]}\r\n      >\r\n        <TextInput\r\n          {...attributes}\r\n          ref={this.getRefHandler()}\r\n          underlineColorAndroid={\r\n            underlineColorAndroid ? underlineColorAndroid : 'transparent'\r\n          }\r\n          style={[\r\n            styles.input,\r\n            lightTheme && styles.inputLight,\r\n            noIcon && { paddingLeft: 9 },\r\n            round && { borderRadius: Platform.OS === 'ios' ? 15 : 20 },\r\n            inputStyle && inputStyle,\r\n            clearIcon && showLoading && { paddingRight: 50 },\r\n            ((clearIcon && !showLoading) || (!clearIcon && showLoading)) && {\r\n              paddingRight: 30,\r\n            },\r\n          ]}\r\n        />\r\n        {!noIcon && (\r\n          <Icon\r\n            size={16}\r\n            style={[styles.icon, styles.searchIcon, icon.style && icon.style]}\r\n            name={icon.name || 'search'}\r\n            color={icon.color || colors.grey3}\r\n          />\r\n        )}\r\n        {clearIcon && (\r\n          <Icon\r\n            size={16}\r\n            style={[\r\n              styles.icon,\r\n              styles.clearIcon,\r\n              clearIcon.style && clearIcon.style,\r\n            ]}\r\n            name={clearIcon.name || 'close'}\r\n            onPress={this.clearText.bind(this)}\r\n            color={clearIcon.color || colors.grey3}\r\n          />\r\n        )}\r\n        {showLoading && (\r\n          <ActivityIndicator\r\n            style={[\r\n              styles.loadingIcon,\r\n              loadingStyle && loadingStyle,\r\n              clearIcon && { right: 35 },\r\n            ]}\r\n            color={icon.color || colors.grey3}\r\n            {...otherLoadingProps}\r\n          />\r\n        )}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nSearch.propTypes = {\r\n  icon: PropTypes.object,\r\n  noIcon: PropTypes.bool,\r\n  lightTheme: PropTypes.bool,\r\n  containerStyle: ViewPropTypes.style,\r\n  inputStyle: NativeText.propTypes.style,\r\n  round: PropTypes.bool,\r\n  showLoading: PropTypes.bool,\r\n  loadingProps: PropTypes.object,\r\n  clearIcon: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\r\n  // Deprecated\r\n  textInputRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  // Deprecated\r\n  containerRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  underlineColorAndroid: PropTypes.string,\r\n  onChangeText: PropTypes.func,\r\n  onClearText: PropTypes.func,\r\n};\r\n\r\nSearch.defaultProps = {\r\n  placeholderTextColor: colors.grey3,\r\n  lightTheme: false,\r\n  noIcon: false,\r\n  round: false,\r\n  icon: {},\r\n  showLoading: false,\r\n  loadingProps: {},\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    borderTopWidth: 1,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#000',\r\n    borderTopColor: '#000',\r\n    backgroundColor: colors.grey0,\r\n  },\r\n  containerLight: {\r\n    backgroundColor: colors.grey5,\r\n    borderTopColor: '#e1e1e1',\r\n    borderBottomColor: '#e1e1e1',\r\n  },\r\n  icon: {\r\n    backgroundColor: 'transparent',\r\n    position: 'absolute',\r\n    top: 15.5,\r\n    ...Platform.select({\r\n      android: {\r\n        top: 20,\r\n      },\r\n      web: {\r\n        top: 19,\r\n      },\r\n    }),\r\n  },\r\n  loadingIcon: {\r\n    backgroundColor: 'transparent',\r\n    position: 'absolute',\r\n    right: 16,\r\n    top: 13,\r\n    ...Platform.select({\r\n      android: {\r\n        top: 18,\r\n      },\r\n      web: {\r\n        top: 18,\r\n      },\r\n    }),\r\n  },\r\n  input: {\r\n    paddingLeft: 26,\r\n    paddingRight: 19,\r\n    margin: 8,\r\n    borderRadius: 3,\r\n    overflow: 'hidden',\r\n    backgroundColor: colors.searchBg,\r\n    fontSize: normalize(14),\r\n    color: colors.grey3,\r\n    height: 40,\r\n    ...Platform.select({\r\n      ios: {\r\n        height: 30,\r\n      },\r\n      android: {\r\n        borderWidth: 0,\r\n      },\r\n    }),\r\n  },\r\n  inputLight: {\r\n    backgroundColor: colors.grey4,\r\n  },\r\n  searchIcon: {\r\n    left: 16,\r\n  },\r\n  clearIcon: {\r\n    right: 16,\r\n  },\r\n});\r\n\r\nexport default Search;\r\n"]}