{"version":3,"sources":["../../src/buttons/ButtonGroup.js"],"names":["ButtonGroup","component","props","buttons","onPress","selectedIndex","selectedIndexes","selectMultiple","containerStyle","innerBorderStyle","lastBorderStyle","buttonStyle","textStyle","selectedTextStyle","selectedButtonStyle","underlayColor","activeOpacity","onHideUnderlay","onShowUnderlay","setOpacityTo","containerBorderRadius","disableSelected","attributes","opacityProps","highlightProps","Component","primary","styles","container","map","button","i","isSelected","includes","filter","index","length","borderRightWidth","width","borderRightColor","color","grey4","borderLeftWidth","borderLeftColor","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","backgroundColor","textContainer","element","buttonText","create","flex","justifyContent","alignItems","marginLeft","marginRight","marginBottom","marginTop","borderColor","borderWidth","flexDirection","borderRadius","overflow","height","fontSize","grey2","select","ios","fontWeight","propTypes","object","any","func","array","style","string","number","arrayOf","shape","oneOfType","bool","defaultProps"],"mappings":"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","file":"ButtonGroup.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport {\r\n  View,\r\n  Text as NativeText,\r\n  StyleSheet,\r\n  TouchableHighlight,\r\n  Platform,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport colors from '../config/colors';\r\nimport Text from '../text/Text';\r\nimport normalize from '../helpers/normalizeText';\r\nimport ViewPropTypes from '../config/ViewPropTypes';\r\n\r\nconst ButtonGroup = props => {\r\n  const {\r\n    component,\r\n    buttons,\r\n    onPress,\r\n    selectedIndex,\r\n    selectedIndexes,\r\n    selectMultiple,\r\n    containerStyle,\r\n    innerBorderStyle,\r\n    lastBorderStyle,\r\n    buttonStyle,\r\n    textStyle,\r\n    selectedTextStyle,\r\n    selectedButtonStyle,\r\n    underlayColor,\r\n    activeOpacity,\r\n    onHideUnderlay,\r\n    onShowUnderlay,\r\n    setOpacityTo,\r\n    containerBorderRadius,\r\n    disableSelected,\r\n    ...attributes\r\n  } = props;\r\n\r\n  let opacityProps = {};\r\n  let highlightProps = {};\r\n  const Component = component || TouchableHighlight;\r\n  if (Component === TouchableOpacity) {\r\n    opacityProps = { activeOpacity, setOpacityTo };\r\n  } else if (Component === TouchableHighlight) {\r\n    highlightProps = {\r\n      onHideUnderlay,\r\n      onShowUnderlay,\r\n      underlayColor: underlayColor || colors.primary,\r\n    };\r\n  }\r\n  return (\r\n    <View\r\n      {...attributes}\r\n      style={[styles.container, containerStyle && containerStyle]}\r\n    >\r\n      {buttons.map((button, i) => {\r\n        const isSelected = selectedIndex === i || selectedIndexes.includes(i);\r\n\r\n        return (\r\n          <Component\r\n            {...opacityProps}\r\n            {...highlightProps}\r\n            disabled={disableSelected && i === selectedIndex ? true : false}\r\n            onPress={() => {\r\n              if (selectMultiple) {\r\n                if (selectedIndexes.includes(i)) {\r\n                  onPress(selectedIndexes.filter(index => index !== i));\r\n                } else {\r\n                  onPress([...selectedIndexes, i]);\r\n                }\r\n              } else {\r\n                onPress(i);\r\n              }\r\n            }}\r\n            key={i}\r\n            style={[\r\n              styles.button,\r\n              // FIXME: This is a workaround to the borderColor and borderRadius bug\r\n              // react-native ref: https://github.com/facebook/react-native/issues/8236\r\n              i < buttons.length - 1 && {\r\n                borderRightWidth:\r\n                  i === 0\r\n                    ? 0\r\n                    : (innerBorderStyle && innerBorderStyle.width) || 1,\r\n                borderRightColor:\r\n                  (innerBorderStyle && innerBorderStyle.color) || colors.grey4,\r\n              },\r\n              i === 1 && {\r\n                borderLeftWidth:\r\n                  (innerBorderStyle && innerBorderStyle.width) || 1,\r\n                borderLeftColor:\r\n                  (innerBorderStyle && innerBorderStyle.color) || colors.grey4,\r\n              },\r\n              i === buttons.length - 1 && {\r\n                ...lastBorderStyle,\r\n                borderTopRightRadius: containerBorderRadius,\r\n                borderBottomRightRadius: containerBorderRadius,\r\n              },\r\n              i === 0 && {\r\n                borderTopLeftRadius: containerBorderRadius,\r\n                borderBottomLeftRadius: containerBorderRadius,\r\n              },\r\n              isSelected && {\r\n                backgroundColor: colors.primary,\r\n              },\r\n            ]}\r\n          >\r\n            <View\r\n              style={[\r\n                styles.textContainer,\r\n                buttonStyle && buttonStyle,\r\n                isSelected && selectedButtonStyle && selectedButtonStyle,\r\n              ]}\r\n            >\r\n              {button.element ? (\r\n                <button.element />\r\n              ) : (\r\n                <Text\r\n                  style={[\r\n                    styles.buttonText,\r\n                    textStyle && textStyle,\r\n                    isSelected && { color: '#fff' },\r\n                    isSelected && selectedTextStyle,\r\n                  ]}\r\n                >\r\n                  {button}\r\n                </Text>\r\n              )}\r\n            </View>\r\n          </Component>\r\n        );\r\n      })}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  button: {\r\n    flex: 1,\r\n  },\r\n  textContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  container: {\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n    marginBottom: 5,\r\n    marginTop: 5,\r\n    borderColor: '#e3e3e3',\r\n    borderWidth: 1,\r\n    flexDirection: 'row',\r\n    borderRadius: 3,\r\n    overflow: 'hidden',\r\n    backgroundColor: '#fff',\r\n    height: 40,\r\n  },\r\n  buttonText: {\r\n    fontSize: normalize(13),\r\n    color: colors.grey2,\r\n    ...Platform.select({\r\n      ios: {\r\n        fontWeight: '500',\r\n      },\r\n    }),\r\n  },\r\n});\r\n\r\nButtonGroup.propTypes = {\r\n  button: PropTypes.object,\r\n  component: PropTypes.any,\r\n  onPress: PropTypes.func,\r\n  buttons: PropTypes.array,\r\n  containerStyle: ViewPropTypes.style,\r\n  textStyle: NativeText.propTypes.style,\r\n  selectedTextStyle: NativeText.propTypes.style,\r\n  selectedButtonStyle: ViewPropTypes.style,\r\n  underlayColor: PropTypes.string,\r\n  selectedIndex: PropTypes.number,\r\n  selectedIndexes: PropTypes.arrayOf(PropTypes.number),\r\n  activeOpacity: PropTypes.number,\r\n  onHideUnderlay: PropTypes.func,\r\n  onShowUnderlay: PropTypes.func,\r\n  setOpacityTo: PropTypes.any,\r\n  innerBorderStyle: PropTypes.shape({\r\n    color: PropTypes.string,\r\n    width: PropTypes.number,\r\n  }),\r\n  lastBorderStyle: PropTypes.oneOfType([\r\n    ViewPropTypes.style,\r\n    NativeText.propTypes.style,\r\n  ]),\r\n  buttonStyle: ViewPropTypes.style,\r\n  containerBorderRadius: PropTypes.number,\r\n  disableSelected: PropTypes.bool,\r\n  selectMultiple: PropTypes.bool,\r\n};\r\n\r\nButtonGroup.defaultProps = {\r\n  selectedIndexes: [],\r\n  selectMultiple: false,\r\n  containerBorderRadius: 3,\r\n  onPress: () => {},\r\n};\r\n\r\nexport default ButtonGroup;\r\n"]}