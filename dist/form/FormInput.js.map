{"version":3,"sources":["../../src/form/FormInput.js"],"names":["get","width","FormInput","props","getRef","input","refs","textInputRef","getRefHandler","shake","bind","shakeAnimationValue","Value","nextProps","focus","blur","clear","setValue","timing","duration","toValue","ease","bounce","start","containerStyle","inputStyle","containerRef","normalizeFontSize","attributes","translateX","interpolate","inputRange","outputRange","styles","container","transform","fontSize","propTypes","style","oneOfType","string","func","bool","object","number","array","defaultProps","create","marginLeft","marginRight","select","ios","borderBottomColor","grey4","borderBottomWidth","android","minHeight","web","color","grey3"],"mappings":"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","file":"FormInput.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Animated,\r\n  Easing,\r\n  TextInput,\r\n  StyleSheet,\r\n  Platform,\r\n  Dimensions,\r\n  Text as NativeText,\r\n} from 'react-native';\r\nimport colors from '../config/colors';\r\nimport normalize from '../helpers/normalizeText';\r\nimport ViewPropTypes from '../config/ViewPropTypes';\r\n\r\nconst { width } = Dimensions.get('window');\r\n\r\nclass FormInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.shake = this.shake.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.shakeAnimationValue = new Animated.Value(0);\r\n    this.props.shake && this.shake();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    nextProps.shake && this.props.shake !== nextProps.shake && this.shake();\r\n  }\r\n\r\n  getRef = () => {\r\n    return this.input || this.refs[this.props.textInputRef];\r\n  };\r\n\r\n  getRefHandler = () => {\r\n    if (this.props.textInputRef) {\r\n      if (typeof this.props.textInputRef === 'function') {\r\n        return input => {\r\n          this.input = input;\r\n          this.props.textInputRef(input);\r\n        };\r\n      } else {\r\n        return this.props.textInputRef;\r\n      }\r\n    } else {\r\n      return input => (this.input = input);\r\n    }\r\n  };\r\n\r\n  focus() {\r\n    this.getRef() && this.getRef().focus();\r\n  }\r\n\r\n  blur() {\r\n    this.getRef() && this.getRef().blur();\r\n  }\r\n\r\n  clearText() {\r\n    this.getRef() && this.getRef().clear();\r\n  }\r\n\r\n  shake() {\r\n    const { shakeAnimationValue } = this;\r\n    shakeAnimationValue.setValue(0);\r\n    Animated.timing(shakeAnimationValue, {\r\n      duration: 375,\r\n      toValue: 3,\r\n      ease: Easing.bounce,\r\n    }).start();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      containerStyle,\r\n      inputStyle,\r\n      containerRef,\r\n      normalizeFontSize,\r\n      shake,\r\n      textInputRef,\r\n      ...attributes\r\n    } = this.props;\r\n    const translateX = this.shakeAnimationValue.interpolate({\r\n      inputRange: [0, 0.5, 1, 1.5, 2, 2.5, 3],\r\n      outputRange: [0, -15, 0, 15, 0, -15, 0],\r\n    });\r\n    return (\r\n      <Animated.View\r\n        ref={containerRef}\r\n        style={[\r\n          styles.container,\r\n          containerStyle && containerStyle,\r\n          {\r\n            transform: [{ translateX }],\r\n          },\r\n        ]}\r\n      >\r\n        <TextInput\r\n          {...attributes}\r\n          ref={this.getRefHandler()}\r\n          style={[\r\n            styles.input,\r\n            { fontSize: normalizeFontSize ? normalize(14) : 14 },\r\n            inputStyle && inputStyle,\r\n          ]}\r\n        />\r\n      </Animated.View>\r\n    );\r\n  }\r\n}\r\n\r\nFormInput.propTypes = {\r\n  containerStyle: ViewPropTypes.style,\r\n  inputStyle: NativeText.propTypes.style,\r\n  // Deprecated\r\n  textInputRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  // Deprecated\r\n  containerRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  normalizeFontSize: PropTypes.bool,\r\n  shake: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.bool,\r\n    PropTypes.object,\r\n    PropTypes.number,\r\n    PropTypes.array,\r\n  ]),\r\n};\r\n\r\nFormInput.defaultProps = {\r\n  normalizeFontSize: true,\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    marginLeft: 15,\r\n    marginRight: 15,\r\n    ...Platform.select({\r\n      ios: {\r\n        borderBottomColor: colors.grey4,\r\n        borderBottomWidth: 1,\r\n        marginLeft: 20,\r\n        marginRight: 20,\r\n      },\r\n    }),\r\n  },\r\n  input: {\r\n    ...Platform.select({\r\n      android: {\r\n        minHeight: 46,\r\n        width: width - 30,\r\n      },\r\n      ios: {\r\n        minHeight: 36,\r\n        width: width,\r\n      },\r\n      web: {\r\n        minHeight: 36,\r\n        width: width,\r\n      },\r\n    }),\r\n    // breaks tests - fix before release\r\n    // Invariant Violation: Invalid undefined `width` of type `string`\r\n    // supplied to `StyleSheet input`, expected `number`.\r\n    // width: '100%',\r\n    color: colors.grey3,\r\n  },\r\n});\r\n\r\nexport default FormInput;\r\n"]}